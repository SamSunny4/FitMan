<Window x:Class="FitMan.WPF.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:vm="clr-namespace:FitMan.WPF.ViewModels"
        Title="FitMan - Login" 
        Height="500" 
        Width="400"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="{DynamicResource MaterialDesignFont}">
    
    <Window.DataContext>
        <vm:LoginViewModel />
    </Window.DataContext>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <materialDesign:ColorZone Mode="PrimaryMid" Padding="16" Grid.Row="0">
            <StackPanel>
                <TextBlock Text="FitMan" 
                          FontSize="32" 
                          FontWeight="Bold"
                          HorizontalAlignment="Center"/>
                <TextBlock Text="Gym Management System" 
                          FontSize="14" 
                          HorizontalAlignment="Center"
                          Opacity="0.8"/>
            </StackPanel>
        </materialDesign:ColorZone>

        <!-- Login Form -->
        <StackPanel Grid.Row="1" 
                   Margin="40,60,40,40"
                   VerticalAlignment="Center">

            <materialDesign:PackIcon Kind="Account" 
                                    Width="80" 
                                    Height="80"
                                    HorizontalAlignment="Center"
                                    Margin="0,0,0,30"
                                    Foreground="{DynamicResource PrimaryHueMidBrush}"/>

            <TextBox materialDesign:HintAssist.Hint="Username"
                    Style="{StaticResource MaterialDesignOutlinedTextBox}"
                    Margin="0,0,0,20"
                    Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"/>

            <PasswordBox x:Name="PasswordBox"
                        materialDesign:HintAssist.Hint="Password"
                        Style="{StaticResource MaterialDesignOutlinedPasswordBox}"
                        Margin="0,0,0,10"
                        PasswordChanged="PasswordBox_PasswordChanged"/>

            <TextBlock Text="{Binding ErrorMessage}"
                      Foreground="Red"
                      Margin="0,0,0,20"
                      TextWrapping="Wrap"
                      Visibility="{Binding ErrorMessage, Converter={StaticResource StringToVisibilityConverter}}"/>

            <Button Content="LOGIN"
                   Command="{Binding LoginCommand}"
                   Style="{StaticResource MaterialDesignRaisedButton}"
                   Height="45"
                   IsEnabled="{Binding IsBusy, Converter={StaticResource InverseBooleanConverter}}"/>

            <ProgressBar IsIndeterminate="True"
                        Margin="0,20,0,0"
                        Visibility="{Binding IsBusy, Converter={StaticResource BooleanToVisibilityConverter}}"/>

            <TextBlock Text="Default: admin / admin123"
                      HorizontalAlignment="Center"
                      Margin="0,30,0,0"
                      Opacity="0.6"
                      FontSize="12"/>
        </StackPanel>
    </Grid>
</Window>
